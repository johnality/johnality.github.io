<section id="projects" class="container">
  <h2>Credits</h2>
  <div class="carousel-wrapper">
    <button class="carousel-btn left">&#10094;</button>
    <div class="carousel">
      <!-- your carousel items (no need to duplicate for looping now) -->
      <div class="carousel-item"><img src="carousel/03 united gangs.jpg" alt="United Gangs of America"><p><em>United Gangs of America</em><br>(Vice)<br><strong>Archival Producer</strong></p></div>
      <div class="carousel-item"><img src="carousel/01 circus.jpg" alt="The Circus"><p><em>The Circus</em><br>(Showtime)<br><strong>Archival Producer</strong></p></div>
      <div class="carousel-item"><img src="carousel/02 power trip.jpg" alt="Power Trip"><p><em>Power Trip</em><br>(Hulu)<br><strong>Archival Producer</strong></p></div>
      <div class="carousel-item"><img src="carousel/05 frontline vp chjoice.jpg" alt="Frontline: The VP Choice"><p><em>Frontline: The VP Choice</em><br>(PBS)<br><strong>Archival Producer</strong></p></div>
      <div class="carousel-item"><img src="carousel/04 Lady of the Dunes.jpg" alt="Lady of the Dunes"><p><em>The Lady of the Dunes</em><br>(Oxygen)<br><strong>Archival Producer</strong></p></div>
      <div class="carousel-item"><img src="carousel/06 Battlefield.jpg" alt="Beyond the Battlefield"><p><em>Beyond the Battlefield</em><br>(History)<br><strong>Archival Producer</strong></p></div>
      <div class="carousel-item"><img src="carousel/10 mehdi hasan.jpg" alt="The Mehdi Hasan Show"><p><em>The Mehdi Hasan Show</em><br>(MSNBC)<br><strong>Tape Producer</strong></p></div>
      <div class="carousel-item"><img src="carousel/11 Katie Phang.jpg" alt="The Katie Phang Show"><p><em>The Katie Phang Show</em><br>(MSNBC)<br><strong>Tape Producer</strong></p></div>
      <div class="carousel-item"><img src="carousel/12 symone.jpg" alt="Symone"><p><em>Symone</em><br>(MSNBC)<br><strong>Tape Producer</strong></p></div>
      <div class="carousel-item"><img src="carousel/20 Engineering.jpg" alt="Engineering Catastrophes"><p><em>Engineering Catastrophes</em><br>(Science Channel)<br><strong>Associate Producer</strong></p></div>
      <div class="carousel-item"><img src="carousel/21 FYI.jpg" alt="FYI"><p><em>FYI</em><br>(Sky News)<br><strong>Associate Producer</strong></p></div>
      <div class="carousel-item"><img src="carousel/31 BBC Planets.jpg" alt="The Planets"><p><em>The Planets</em><br>(BBC)<br><strong>Production Assistant</strong></p></div>
      <div class="carousel-item"><img src="carousel/32 BBC artsnight.jpg" alt="Artsnight"><p><em>Artsnight</em><br>(BBC)<br><strong>Production Assistant</strong></p></div>
    </div>
    <button class="carousel-btn right">&#10095;</button>
  </div>
</section>

<style>
.carousel-wrapper {
  position: relative;
  overflow: hidden;
}
.carousel {
  display: flex;
  gap: 16px;
  scroll-behavior: smooth;
  overflow-x: auto;
  scrollbar-width: none; /* hide scrollbar in Firefox */
}
.carousel::-webkit-scrollbar { display: none; }
.carousel-item {
  flex: 0 0 auto;
  width: 225px;
  text-align: center;
}
.carousel-item img {
  width: 100%;
  height: 337px;
  object-fit: cover;
  border-radius: 6px;
}
.carousel-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255,255,255,0.8);
  border: none;
  font-size: 32px;
  cursor: pointer;
  padding: 4px 10px;
  border-radius: 4px;
  z-index: 5;
}
.carousel-btn.left { left: 4px; }
.carousel-btn.right { right: 4px; }
</style>

<script>
const carousel = document.querySelector('.carousel');
const leftBtn = document.querySelector('.carousel-btn.left');
const rightBtn = document.querySelector('.carousel-btn.right');

function scrollAmount() {
  return carousel.querySelector('.carousel-item').offsetWidth + 16; // one item width + gap
}

leftBtn.addEventListener('click', () => {
  carousel.scrollBy({ left: -scrollAmount(), behavior: 'smooth' });
});
rightBtn.addEventListener('click', () => {
  carousel.scrollBy({ left: scrollAmount(), behavior: 'smooth' });
});

// autoplay with responsive speed
let autoScroll;
function startAutoScroll() {
  let interval = window.innerWidth < 600 ? 2500 : 4000; // faster on mobile
  autoScroll = setInterval(() => {
    carousel.scrollBy({ left: scrollAmount(), behavior: 'smooth' });
    // if near end, reset smoothly
    if (carousel.scrollLeft + carousel.clientWidth >= carousel.scrollWidth - 2) {
      carousel.scrollTo({ left: 0, behavior: 'smooth' });
    }
  }, interval);
}
function stopAutoScroll() {
  clearInterval(autoScroll);
}
carousel.addEventListener('mouseenter', stopAutoScroll);
carousel.addEventListener('mouseleave', startAutoScroll);
startAutoScroll();

// allow swipe on touch devices
let startX;
carousel.addEventListener('touchstart', e => startX = e.touches[0].clientX);
carousel.addEventListener('touchend', e => {
  let endX = e.changedTouches[0].clientX;
  if (startX - endX > 50) rightBtn.click();
  if (endX - startX > 50) leftBtn.click();
});
</script>
